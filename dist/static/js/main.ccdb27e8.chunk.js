(this["webpackJsonponline-todo"]=this["webpackJsonponline-todo"]||[]).push([[0],{263:function(e,t,a){e.exports={nameField:"style_nameField__3Qlj9"}},273:function(e,t,a){e.exports=a(493)},278:function(e,t,a){},279:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},280:function(e,t,a){},454:function(e,t,a){},455:function(e,t,a){},456:function(e,t,a){},493:function(e,t,a){"use strict";a.r(t);var n=a(28),r=a(0),l=a.n(r),c=a(9),o=a.n(c),i=(a(278),a(279),a(280),a(26)),s=a(49),u=a(19),m=a(20),d=a(21),E=a(22),p=a(260),f=a(174),h=a(175),g=a(123),b=a(525),v=a(122),y=a.n(v),C=a(523),O=a(15),k=a(43),S=a(23),T=a(36),R=a(73),j=a.n(R),N=a(39),_=a.n(N),U=a(524),A=a(265),F=a(526);function L(e){var t=l.a.useState(!1),a=Object(A.a)(t,2),n=(a[0],a[1]);return l.a.createElement("div",null,l.a.createElement(F.a,{checked:e.checked,onChange:function(e){n(e.target.checked)},inputProps:{"aria-label":"primary checkbox"}}))}var w=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={task:"",until:""},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.tasks,a=this.props.auth,n=function(e,t,a){document.getElementById(t).classList.remove("hidden");var n=document.getElementById(e);n.contentEditable="true",n.focus(),document.getElementById(a).classList.add("hidden")};return l.a.createElement(l.a.Fragment,null,t&&t.map((function(t){var r=_()(),c=_()(),o=_()(),i=_()(),s=_()(),u=_()();if(t.uid===a.uid)return l.a.createElement("tr",{key:_()()},l.a.createElement("td",null," ",l.a.createElement("label",{onClick:function(){return function(t,a){var n={done:!0!==t};e.props.updateDone(n,a)}(t.done,t.id)}},l.a.createElement(L,{checked:t.done}),l.a.createElement("span",{style:{color:"red"}}))),l.a.createElement("td",null,l.a.createElement("span",{className:!0===t.done?"done":null,id:r},t.task," "),l.a.createElement("i",{id:o,style:{marginLeft:"15px"},onClick:function(){return n(r,c,o)},class:" fas fa-pencil-alt"}),l.a.createElement("i",{id:c,style:{marginLeft:"15px"},onClick:function(){return function(t,a,n,r,l){document.getElementById(a).classList.add("hidden"),document.getElementById(t).classList.remove("hidden");var c=document.getElementById(n);c.contentEditable="false";var o=document.getElementById(l).innerText,i={task:c.innerText,until:o};e.props.updateUserTask(i,r)}(o,c,r,t.id,u)},class:"fas fa-check-circle hidden"})),l.a.createElement("td",null,l.a.createElement("span",{className:!0===t.done?"done":null,id:u}," ",t.until," "),l.a.createElement("i",{id:i,onClick:function(){return n(u,s,i)},style:{marginLeft:"15px"},class:" fas fa-pencil-alt"}),l.a.createElement("i",{id:s,style:{marginLeft:"15px"},onClick:function(){return function(t,a,n,r,l){document.getElementById(a).classList.add("hidden"),document.getElementById(t).classList.remove("hidden");var c=document.getElementById(n);c.contentEditable="false";var o={task:document.getElementById(l).innerText,until:c.innerText};e.props.updateUserTask(o,r)}(i,s,u,t.id,r)},class:"fas fa-check-circle hidden"})),l.a.createElement("td",null,j()(t.createdAt.toDate()).calendar()),l.a.createElement("td",null,l.a.createElement(U.a,{onClick:function(a){return function(t,a){t.preventDefault(),e.props.deleteTask(a)}(a,t.id)}},l.a.createElement("i",{style:{color:"red"},class:"fas fa-trash-alt fa-lg"}))))})))}}]),a}(r.Component),I=Object(O.b)(null,(function(e){return{deleteTask:function(t){return e(function(e){return console.log("dispatch",e),function(t,a,n){(0,n.getFirestore)().collection("userTasks").doc(e).delete().then((function(){console.log("deleted"),t({type:"DELETE_PROJECT_SUCCESS"})})).catch((function(e){t({type:"DELETE_PROJECT_ERROR"})}))}}(t))},updateUserTask:function(t,a){return e(function(e,t){return function(a,n,r){(0,r.getFirestore)().collection("userTasks").doc(t).update(e).then((function(){console.log("updated"),a({type:"UPDATE_PROJECT_SUCCESS"})})).catch((function(e){a({type:"UPDATE_PROJECT_ERROR"})}))}}(t,a))},updateDone:function(t,a){return e(function(e,t){return function(a,n,r){(0,r.getFirestore)().collection("userTasks").doc(t).update(e).then((function(){console.log("updated"),a({type:"UPDATE_PROJECT_SUCCESS"})})).catch((function(e){a({type:"UPDATE_PROJECT_ERROR"})}))}}(t,a))}}}))(w),x=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={task:"",until:""},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createUserTask(e.state)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.userTasks,n=t.auth,r=t.profile;return!n.uid&&n.isLoaded?l.a.createElement(s.a,{to:"/"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{class:"container"},l.a.createElement("span",{style:{fontSize:"25px"}},"Welcome ",l.a.createElement("br",null)," ",r.firstName," ",r.lastName)),l.a.createElement(p.a,{fluid:!0,style:{position:"absolute",top:"50px"}},l.a.createElement(f.a,{className:"no-gutters mx-0",style:{marginBottom:"50px",marginTop:"20px"}},l.a.createElement(h.a,null,l.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},l.a.createElement(b.a,{onChange:function(t){return e.handleChange(t)},required:!0,id:"task",label:"Description"}),l.a.createElement(b.a,{required:!0,onChange:function(t){return e.handleChange(t)},id:"until",label:"Date",type:"date",style:{marginLeft:"15px"},InputLabelProps:{shrink:!0}}),l.a.createElement(C.a,{type:"submit"},l.a.createElement(y.a,null))))),l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Done"),l.a.createElement("th",null,"Task"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Created Date"),l.a.createElement("th",null,"Remove"))),l.a.createElement("tbody",null,l.a.createElement(I,{auth:n,tasks:a}))))))))}}]),a}(r.Component),D=Object(S.d)(Object(O.b)((function(e){return{userTasks:e.firestore.ordered.userTasks,auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{createUserTask:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=n.getFirestore,l=a().firebase.auth.uid;r().collection("userTasks").add(Object(k.a)({},e,{createdAt:new Date,uid:l,done:!1})).then((function(){t({type:"CREATE_USER_TASK",taskObj:e})})).catch((function(e){t({type:"CREATE_USER_TASK_ERROR",err:e})}))}}(t))}}})),Object(T.firestoreConnect)([{collection:"userTasks",orderBy:["createdAt","desc"]}]))(x);var P=Object(O.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(i.b,{to:"/mytodo"},"My ToDo List")),l.a.createElement("li",null,l.a.createElement("a",{href:"",onClick:function(){return e.signOut()}},"Log Out")))}));function B(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(i.b,{to:"/login"},"Login")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/signup"},"Sign Up")))}var G=a(262);a(454);function J(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(i.b,{to:"/"},"Home")))}var z=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"showSettings",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props.auth.isEmpty?l.a.createElement(B,null):l.a.createElement(P,null);return l.a.createElement(G.slide,{id:"hamburger"},l.a.createElement(J,null),e)}}]),a}(l.a.Component);a(455);var K=Object(O.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),null)((function(e){var t=e.auth,a=t.uid?l.a.createElement(P,null):l.a.createElement(B,null);return l.a.createElement("div",null,l.a.createElement(z,{id:"burger",auth:t}),l.a.createElement("nav",{class:"transparent"},l.a.createElement("div",{class:"nav-wrapper   "},l.a.createElement("a",{href:"/",class:"brand-logo center"},"ToDo List App"),l.a.createElement("ul",{className:"right hide-on-med-and-down right ",id:"mobile-demo"},t.isLoaded&&a))))})),q=a(263),W=a.n(q),H=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={task:"",until:"",name:"Anonymous"},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createPublicTask(e.state)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("form",{style:{marginTop:"0"},onSubmit:function(t){return e.handleSubmit(t)}},l.a.createElement(b.a,{onChange:function(t){return e.handleChange(t)},required:!0,id:"task",label:"Description"}),l.a.createElement(b.a,{required:!0,onChange:function(t){return e.handleChange(t)},id:"until",label:"Date",type:"date",style:{paddingLeft:"15px",paddingRight:"15px"},InputLabelProps:{shrink:!0}}),l.a.createElement(b.a,{className:W.a.nameField,required:!0,onChange:function(t){return e.handleChange(t)},label:"Name",id:"name",defaultValue:"Anonymous"}),l.a.createElement(C.a,{type:"submit"},l.a.createElement(y.a,null)))}}]),a}(r.Component),Q=Object(S.d)(Object(O.b)((function(e){return{}}),(function(e){return{createPublicTask:function(t){return e(function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("publicTasks").add(Object(k.a)({},e,{createdAt:new Date})).then((function(){t({type:"CREATE_PUBLIC_TASK",taskObj:e})})).catch((function(e){t({type:"CREATE_PUBLIC_TASK_ERROR",err:e})}))}}(t))}}})))(H),M=function(e){var t=e.tasks;return l.a.createElement(l.a.Fragment,null,t&&t.map((function(e){return l.a.createElement("tr",{key:_()()},l.a.createElement("td",null,e.task),l.a.createElement("td",null,e.until),l.a.createElement("td",null,e.name),l.a.createElement("td",null,j()(e.createdAt.toDate()).calendar()))})))};function V(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Task"),l.a.createElement("th",null,"Until"),l.a.createElement("th",null,"User Name"),l.a.createElement("th",null,"Created Date"))),l.a.createElement("tbody",null,l.a.createElement(M,{tasks:e.tasks}))))}var $=function(e){var t=e.notifications;return l.a.createElement("div",{className:"section",style:{height:"580px",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",backgroundColor:"#FF3CAC",backgroundImage:"linear-gradient(225deg, #FF3CAC 0%, #784BA0 50%, #2B86C5 100%)"}},l.a.createElement("div",{className:"card notCard z-depth-0 transparent mt-0 pt-0 border-0"},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title not-title "},"Notifications"),l.a.createElement("ul",{className:"notifications notUL mt-0 pt-0"},t&&t.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement("p",{style:{color:"pink",fontSize:"20px",display:"inline"}},e.user),l.a.createElement("span",{className:"white-text"},e.content),l.a.createElement("div",{className:"grey-text note-date"},j()(e.time.toDate()).fromNow()))}))))))},X=(a(456),function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.publicTasks,a=e.notifications,n=e.auth,r=n.isEmpty?l.a.createElement("p",{style:{color:"pink"}},"For personal ToDo App usage please",l.a.createElement("a",{href:"/signup"},l.a.createElement("span",{style:{color:"blue"}}," signup ")),"or",l.a.createElement("a",{href:"/login"},l.a.createElement("span",{style:{color:"blue"}}," login"))):l.a.createElement("p",{style:{color:"pink"}},"For personal ToDo App usage please go to",l.a.createElement("a",{href:"/mytodo"},l.a.createElement("span",{style:{color:"blue"}}," myTodo")));return l.a.createElement("div",{className:"mainDash"},l.a.createElement("div",{className:"dashboard container"},l.a.createElement("p",{className:"mt-4 mb-0 pb-0",style:{color:"pink"}}),l.a.createElement("div",{style:{marginTop:"0px",paddingTop:"0"},className:"row"},l.a.createElement("div",{className:"col"},n.isLoaded&&r,l.a.createElement(Q,null))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement(V,{tasks:t})))),l.a.createElement("div",{className:"notifications  "},l.a.createElement($,{notifications:a})))}}]),a}(r.Component)),Y=Object(S.d)(Object(O.b)((function(e){return{publicTasks:e.firestore.ordered.publicTasks,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}})),Object(T.firestoreConnect)([{collection:"publicTasks",orderBy:["createdAt","desc"]},{collection:"notifications",limit:15,orderBy:["time","desc"]}]))(X),Z=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={firstName:"",lastName:"",email:"",password:""},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.authError;return a.uid?l.a.createElement(s.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{onChange:function(t){return e.handleChange(t)},type:"text",id:"lastName"})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{onChange:function(t){return e.handleChange(t)},type:"text",id:"firstName"})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{onChange:function(t){return e.handleChange(t)},type:"email",id:"email"})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{onChange:function(t){return e.handleChange(t)},type:"password",id:"password"})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Sign Up"),l.a.createElement("div",{className:"red-text center"},n?l.a.createElement("p",null,n):null))))}}]),a}(r.Component),ee=Object(O.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return console.log(e),function(t,a,n){var r=n.getFirebase,l=n.getFirestore,c=r(),o=l();c.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return o.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(Z),te=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.authError;return t.auth.uid?l.a.createElement(s.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"SignIn"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{required:!0,type:"email",id:"email",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{required:!0,type:"password",id:"password",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Login"),l.a.createElement("div",{className:"red-text center"},a?l.a.createElement("p",null,a):null))))}}]),a}(r.Component),ae=Object(O.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(te);var ne=function(){return l.a.createElement(i.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(K,null),l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/signup",component:ee}),l.a.createElement(s.b,{exact:!0,path:"/login",component:ae}),l.a.createElement(s.b,{exact:!0,path:"/mytodo",component:D}),l.a.createElement(s.b,{exact:!0,path:"/",component:Y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re={authError:null},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(k.a)({},e,{authError:"Login Failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(k.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(k.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup success"),Object(k.a)({},e,{authError:t.err.message});default:return e}},ce={tasks:[{}]},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PUBLIC_TASK":return console.log("created PUBLIC project",t.projects),e;case"CREATE_USER_TASK":return console.log("created USER project",t.projects),e;case"CREATE_PUBLIC_TASK_ERROR":return console.log("create PUBLIC project error",t.err),e;case"CREATE_USER_TASK_ERROR":return console.log("create USER project error",t.err),e;case"DELETE_PROJECTS_SUCCESS":return console.log("DELETE SUCCESS"),e;case"DELETE_PROJECT_ERROR":return console.log("DELETE ERROR"),e;default:return e}},ie=a(77),se=Object(S.c)({auth:le,project:oe,firestore:ie.firestoreReducer,firebase:T.firebaseReducer}),ue=a(264),me=a(125),de=a.n(me),Ee=(a(488),a(490),{apiKey:"AIzaSyCSPedDd2_aBAoH9Czld8b4gSQvTDcbE04",authDomain:"todo-app-38640.firebaseapp.com",databaseURL:"https://todo-app-38640.firebaseio.com",projectId:"todo-app-38640",storageBucket:"todo-app-38640.appspot.com",messagingSenderId:"216777376486",appId:"1:216777376486:web:1d002595844b4773c67127",measurementId:"G-5BWTFEHWQ3"});de.a.initializeApp(Ee),de.a.firestore();var pe=de.a,fe=Object(S.e)(se,Object(S.d)(Object(S.a)(ue.a.withExtraArgument({getFirebase:T.getFirebase,getFirestore:ie.getFirestore})),Object(ie.reduxFirestore)(pe,Ee))),he=Object(n.a)({firebase:pe,config:Ee,dispatch:fe.dispatch,createFirestoreInstance:ie.createFirestoreInstance},"config",{userProfile:"users",useFirestoreForProfile:!0,enableRedirectHandling:!1,resetBeforeLogin:!1});o.a.render(l.a.createElement(O.a,{store:fe},l.a.createElement(T.ReactReduxFirebaseProvider,he,l.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[273,1,2]]]);
//# sourceMappingURL=main.ccdb27e8.chunk.js.map